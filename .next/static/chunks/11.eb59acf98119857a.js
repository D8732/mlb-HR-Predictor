"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[11],{7011:(a,e,s)=>{s.r(e),s.d(e,{default:()=>r});var l=s(7876),t=s(4232);let n={"Arizona Diamondbacks":"ari","Atlanta Braves":"atl","Baltimore Orioles":"bal","Boston Red Sox":"bos","Chicago Cubs":"chc","Chicago White Sox":"chw","Cincinnati Reds":"cin","Cleveland Guardians":"cle","Colorado Rockies":"col","Detroit Tigers":"det","Houston Astros":"hou","Kansas City Royals":"kc","Los Angeles Angels":"laa","Los Angeles Dodgers":"lad","Miami Marlins":"mia","Milwaukee Brewers":"mil","Minnesota Twins":"min","New York Mets":"nym","New York Yankees":"nyy","Oakland Athletics":"oak","Philadelphia Phillies":"phi","Pittsburgh Pirates":"pit","San Diego Padres":"sd","San Francisco Giants":"sf","Seattle Mariners":"sea","St. Louis Cardinals":"stl","Tampa Bay Rays":"tb","Texas Rangers":"tex","Toronto Blue Jays":"tor","Washington Nationals":"wsh"};function r(){let[a,e]=(0,t.useState)([]),[s,r]=(0,t.useState)(!1),i=async()=>{r(!0);try{console.log("Fetching live player + statcast + weather data...");let[a,s,l]=await Promise.all([fetch("/api/getLineupsAndHR"),fetch("/api/getStatcastMetrics"),fetch("/api/getWeatherAndParks")]),t=await a.json(),r=await s.json(),i=await l.json();console.log("Lineups data:",t),console.log("Statcast data:",r),console.log("Weather data:",i);let o=t.players.map(a=>{let e=r.data.find(e=>e.name.toLowerCase()===a.name.toLowerCase()),s=i.data.find(e=>{var s;return e.stadium.toLowerCase().includes((null==(s=a.stadium)?void 0:s.toLowerCase())||"")}),l=(null==s?void 0:s.temp)>75?1.05:1,t=(null==s?void 0:s.wind)>10?1.1:1,o=(null==s?void 0:s.factor)||1,c=e?.4*e.avgEV+.2*e.avgLA+10*e.barrels+.4*a.HR:.5*a.HR,d=n[a.teamName]||"mlb";return{name:a.name,team:d.toUpperCase(),HR:a.HR,AB:a.AB,avgEV:(null==e?void 0:e.avgEV)||"-",avgLA:(null==e?void 0:e.avgLA)||"-",barrels:(null==e?void 0:e.barrels)||"-",score:Math.round(c*l*t*o*10)/10,logo:"https://a.espncdn.com/i/teamlogos/mlb/500/".concat(d,".png")}});console.log("Combined players:",o),e(o.sort((a,e)=>e.score-a.score))}catch(a){console.error("Error loading data:",a)}finally{r(!1)}};return(0,t.useEffect)(()=>{i()},[]),(0,l.jsxs)("div",{className:"p-4 max-w-6xl mx-auto",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4 text-center",children:"Today's HR Potential Rankings"}),(0,l.jsx)("button",{onClick:i,disabled:s,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded",children:s?"Loading...":"Refresh Rankings"}),(0,l.jsx)("div",{className:"overflow-x-auto bg-white rounded shadow",children:(0,l.jsxs)("table",{className:"w-full text-sm text-left border",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"p-2",children:"#"}),(0,l.jsx)("th",{className:"p-2",children:"Player"}),(0,l.jsx)("th",{className:"p-2",children:"Team"}),(0,l.jsx)("th",{className:"p-2",children:"HR"}),(0,l.jsx)("th",{className:"p-2",children:"AB"}),(0,l.jsx)("th",{className:"p-2",children:"Avg EV"}),(0,l.jsx)("th",{className:"p-2",children:"LA"}),(0,l.jsx)("th",{className:"p-2",children:"Barrels%"}),(0,l.jsx)("th",{className:"p-2",children:"HR Score"})]})}),(0,l.jsx)("tbody",{children:0===a.length?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"9",className:"text-center p-4",children:"No data available. Try refreshing."})}):a.map((a,e)=>(0,l.jsxs)("tr",{className:"border-t ".concat(e<10?"bg-yellow-100 font-bold":""),children:[(0,l.jsx)("td",{className:"p-2",children:e+1}),(0,l.jsx)("td",{className:"p-2",children:a.name}),(0,l.jsxs)("td",{className:"p-2",children:[(0,l.jsx)("img",{src:a.logo,alt:a.team,className:"w-6 h-6 inline mr-2 align-middle"}),a.team]}),(0,l.jsx)("td",{className:"p-2",children:a.HR}),(0,l.jsx)("td",{className:"p-2",children:a.AB}),(0,l.jsx)("td",{className:"p-2",children:a.avgEV}),(0,l.jsx)("td",{className:"p-2",children:a.avgLA}),(0,l.jsx)("td",{className:"p-2",children:a.barrels}),(0,l.jsx)("td",{className:"p-2 font-semibold",children:a.score})]},e))})]})})]})}}}]);